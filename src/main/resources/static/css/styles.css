/* ========= Theme & globals ========= */
:root{
  --brand: #d97706;      /* caramel/cookie */
  --brand-2: #b45309;    /* deeper caramel */
  --bg: #0f172a;
  --text: #0f172a;
  --glass: rgba(255,255,255,.7);
  --shadow: 0 10px 30px rgba(2,6,23,.12), 0 2px 8px rgba(2,6,23,.06);
  --nav-h: 72px;         /* fixed navbar height */
  --bottom-nav-h: 112px; /* <-- bottom bar height (bump to 120 if needed) */
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
  color:var(--text);
  background:#f8fafc;

  /* HARD GUARANTEE: nothing is hidden behind a fixed bottom bar */
  padding-bottom: max(var(--bottom-nav-h), env(safe-area-inset-bottom));
}

/* Dark mode styles */
:root {
  --dark-bg: #1e293b;
  --dark-card: #334155;
  --dark-border: #475569;
  --dark-text: #f8fafc;
  --dark-muted: #e2e8f0;
  --dark-feature-card: rgba(51, 65, 85, 0.9);
  --dark-glass: rgba(15, 23, 42, 0.75);
}

html.dark-mode body {
  --text: var(--dark-text);
  background: var(--dark-bg) !important;
  color: var(--dark-text) !important;
}

html.dark-mode .navbar,
html.dark-mode .card,
html.dark-mode .nav-glass,
html.dark-mode .navbar-light,
html.dark-mode .bottom-nav {
  background: var(--dark-card);
  border-color: var(--dark-border);
}

html.dark-mode .navbar *,
html.dark-mode .card *,
html.dark-mode .nav-glass *,
html.dark-mode .bottom-nav * {
  color: var(--dark-text);
}

html.dark-mode .text-muted,
html.dark-mode .navbar-text,
html.dark-mode small.d-block {
  color: var(--dark-muted);
  opacity: 0.8;
}

html.dark-mode .form-control,
html.dark-mode .form-select {
  background-color: var(--dark-bg);
  border-color: var(--dark-border);
  color: var(--dark-text);
}

html.dark-mode .form-control:focus,
html.dark-mode .form-select:focus {
  background-color: var(--dark-bg);
  border-color: var(--dark-text);
  color: var(--dark-text);
}

html.dark-mode .card {
  border-color: var(--dark-border);
}

html.dark-mode .card-header {
  background-color: var(--dark-card);
  border-bottom-color: var(--dark-border);
}

html.dark-mode .btn-secondary {
  background-color: var(--dark-card);
  border-color: var(--dark-border);
}

html.dark-mode .btn-secondary:hover {
  background-color: var(--dark-border);
}

html.dark-mode .form-check-input {
  background-color: var(--dark-bg);
  border-color: var(--dark-text);
}

/* Specific styles for toggle switches in dark mode */
html.dark-mode .form-switch .form-check-input {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23e2e8f0'/%3e%3c/svg%3e");
  background-color: var(--dark-border);
  border-color: var(--dark-text);
}

html.dark-mode .form-switch .form-check-input:checked {
  background-color: #0d6efd;
  border-color: #0d6efd;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e");
}

html.dark-mode .form-switch .form-check-input:focus {
  border-color: #86b7fe;
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

html.dark-mode .form-check-label {
  color: var(--dark-text);
}

html.dark-mode .form-text {
  color: var(--dark-muted);
}

/* Dark mode styles for index page */
.dark-mode.home {
  background: var(--dark-bg);
}

html.dark-mode .nav-glass {
  background: var(--dark-glass);
  backdrop-filter: saturate(180%) blur(8px);
}

.dark-mode .feature-card {
  background: var(--dark-feature-card);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.dark-mode .feature-card:hover {
  transform: translateY(-6px);
  border-color: rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
}

html.dark-mode .feature-card .card-title {
  color: var(--dark-text);
}

html.dark-mode .feature-card .card-text {
  color: var(--dark-muted);
}

html.dark-mode .icon-wrap {
  background: radial-gradient(80% 80% at 30% 20%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 247, 237, 0.1) 60%, rgba(253, 230, 138, 0.1) 100%);
  color: #fbbf24;
  box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.2), 0 6px 18px rgba(251, 191, 36, 0.1);
}

.dark-mode .step-card {
  background: var(--dark-feature-card);
  border-color: rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.dark-mode .how-it-works {
  background: linear-gradient(180deg, var(--dark-bg) 0%, rgba(30, 41, 59, 0.8) 100%);
  border-color: rgba(255, 255, 255, 0.1);
}

html.dark-mode .step-card h5 {
  color: var(--dark-text);
}

html.dark-mode .service-banner {
  background: var(--dark-card);
  border-color: rgba(251, 191, 36, 0.2);
  color: var(--dark-text);
}

html.dark-mode .service-banner a {
  color: #fbbf24;
}

.dark-mode .hero-wave svg {
  fill: var(--dark-bg);
}

html.dark-mode .badge-geo {
  background: var(--dark-card);
  color: var(--dark-text);
  border-color: rgba(251, 191, 36, 0.3);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

html.dark-mode .trust {
  color: rgba(255, 255, 255, 0.6);
}

/* ✅ Offset all non-home pages for fixed top navbar */
body:not(.home){
  padding-top: var(--nav-h);
}

/* ✅ Ensure anchor links (#how) aren't hidden under navbar */
html{
  scroll-padding-top: var(--nav-h);
}

/* ✅ Prefer precise detection (Chrome supports :has) */
@supports selector(:has(*)){
  body:has(.fixed-bottom),
  body:has(.bottom-nav),
  body:has(.navbar-fixed-bottom),
  body:has(footer[style*="position:fixed"]),
  body:has(nav[style*="position:fixed"]),
  body:has([data-fixed-bottom]){
    padding-bottom: max(var(--bottom-nav-h), env(safe-area-inset-bottom));
  }
}

/* Optional: if the homepage has no bottom bar, remove the extra space */
body.home{ padding-bottom: 0; }

.fixed-bottom,
.bottom-nav,
.navbar-fixed-bottom{ z-index: 1040; }

@media (max-width: 480px){
  :root{ --bottom-nav-h: 128px; } /* taller bar on small phones */
}

/* ========= Navbar ========= */
.nav-glass{
  backdrop-filter: saturate(1.2) blur(8px);
  background: rgba(255,255,255,.85) !important;
}

/* ========= HOME-ONLY visuals ========= */
.home .hero{
  position:relative;
  min-height:56vh;            /* shorter → less scroll */
  display:flex;
  align-items:center;
  justify-content:center;
  padding-top:84px;           /* below fixed navbar */
  padding-bottom:28px;
  color:#fff;
  text-align:center;
}

.home .hero-cookie{
  background:
    linear-gradient(180deg, rgba(15,23,42,.58) 0%, rgba(15,23,42,.35) 35%, rgba(15,23,42,.62) 100%),
    url("/images/hero-cookie.jpg") center/cover no-repeat;
  background-attachment: fixed;
}
@media (max-width:1024px){
  .home .hero-cookie{ background-attachment: scroll; }
}

.home .hero .display-4{
  letter-spacing:.2px;
  text-shadow:0 3px 22px rgba(0,0,0,.45);
}

.home .underline{
  background: linear-gradient(120deg, rgba(217,119,6,.25), rgba(217,119,6,.6));
  border-radius:.35rem;
  padding:0 .35rem;
}

/* CTA */
.home .btn-cta{
  background: linear-gradient(135deg, var(--brand) 0%, var(--brand-2) 100%);
  border:none;
  box-shadow:0 12px 30px rgba(217,119,6,.35);
  padding:.9rem 1.5rem;
  border-radius:14px;
  font-weight:700;
  color:#fff;
}
.home .btn-cta:hover{
  transform:translateY(-2px);
  box-shadow:0 16px 36px rgba(217,119,6,.45);
  color:#fff;
}

.home .badge-area .badge-geo{
  background:#fff;
  color:#111827;
  border:1px solid #e5e7eb;
  border-radius:999px;
  padding:.5rem .9rem;
  box-shadow:var(--shadow);
}

/* Wave smaller */
.home .hero-wave{
  position:absolute;
  bottom:-1px;
  left:0;
  width:100%;
}
.home .hero-wave svg{
  display:block;
  width:100%;
  height:64px;
  fill:#f8fafc;
}

/* ========= Home – Service banner & cards ========= */
.service-banner{
  background:#fff7ed;
  border-bottom:1px solid #fde68a;
}

.home .features{
  margin-top:-6px;
}

.feature-card{
  background:var(--glass);
  border:1px solid rgba(255,255,255,.45);
  box-shadow:var(--shadow);
  border-radius:18px;
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  backdrop-filter: blur(6px);
}
.feature-card:hover{
  transform:translateY(-6px);
  box-shadow:0 18px 40px rgba(2,6,23,.15);
  border-color:rgba(255,255,255,.65);
}

.icon-wrap{
  --size:64px;
  width:var(--size);
  height:var(--size);
  margin-inline:auto;
  display:grid;
  place-items:center;
  border-radius:50%;
  background: radial-gradient(80% 80% at 30% 20%, #ffffff 0%, #fff7ed 60%, #fde68a 100%);
  color: var(--brand-2);
  box-shadow: inset 0 2px 6px rgba(0,0,0,.05), 0 6px 18px rgba(2,6,23,.08);
  font-size:28px;
}
.card-title{ font-weight:700; }

/* ========= Home – How it works ========= */
.how-it-works{
  background: linear-gradient(180deg, #ffffff 0%, #fff7ed 100%);
  border-top:1px solid #f3f4f6;
  border-bottom:1px solid #f3f4f6;
}

.step-card{
  background:#fff;
  border:1px solid #f1f5f9;
  border-radius:18px;
  padding:1.25rem 1.25rem 1rem;
  box-shadow:0 6px 18px rgba(2,6,23,.06);
}

.step-number{
  width:36px;
  height:36px;
  display:grid;
  place-items:center;
  border-radius:50%;
  background:linear-gradient(135deg, var(--brand) 0%, var(--brand-2) 100%);
  color:#fff;
  font-weight:700;
  margin-bottom:.5rem;
}

/* ========= Footer ========= */
footer{
  background:#fff;
  border-top:1px solid #e5e7eb;
}

/* footer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: grey;
  text-align: center;
} */

/* Sticky footer: fixed when page has no scroll, static when scrollable */
.footer-sticky {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 1000;
}

.footer-sticky.has-scroll {
  position: static;
  margin-top: 2rem;
}

.dark-mode footer {
  background: var(--dark-card);
  border-color: var(--dark-border);
  color: var(--dark-text);
}

/* Mobile tweak */
@media (max-width:576px){
  .home .hero{ min-height:62vh; }
}

.home .hero p.lead,
.home .hero .trust {
  color: #fde9c9; /* soft cookie-tint white */
  text-shadow: 0 2px 10px rgba(0,0,0,0.45);
}
